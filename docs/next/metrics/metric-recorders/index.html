<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Metrics Recorders · inspectIT Ocelot Documentation</title><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta name="generator" content="Docusaurus"/><meta name="description" content="Metrics recorders are responsible for capturing system metrics, such as processor or memory usage. All metrics recorders provided by inspectIT Ocelot publish the recorded data through the OpenCensus API."/><meta name="docsearch:version" content="next"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="Metrics Recorders · inspectIT Ocelot Documentation"/><meta property="og:type" content="website"/><meta property="og:url" content="https://inspectit.github.io/inspectit-ocelot/"/><meta property="og:description" content="Metrics recorders are responsible for capturing system metrics, such as processor or memory usage. All metrics recorders provided by inspectIT Ocelot publish the recorded data through the OpenCensus API."/><meta property="og:image" content="https://inspectit.github.io/inspectit-ocelot/img/undraw_online.svg"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://inspectit.github.io/inspectit-ocelot/img/undraw_tweetstorm.svg"/><link rel="shortcut icon" href="/inspectit-ocelot/img/favicon.ico"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/atom-one-dark.min.css"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script src="https://unpkg.com/vanilla-back-to-top@7.1.14/dist/vanilla-back-to-top.min.js"></script><script>
        document.addEventListener('DOMContentLoaded', function() {
          addBackToTop(
            {"zIndex":100}
          )
        });
        </script><script src="/inspectit-ocelot/js/scrollSpy.js"></script><link rel="stylesheet" href="/inspectit-ocelot/css/main.css"/><script src="/inspectit-ocelot/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/inspectit-ocelot/"><img class="logo" src="/inspectit-ocelot/img/ocelot_head_sil_logo.svg" alt="inspectIT Ocelot Documentation"/><h2 class="headerTitleWithLogo">inspectIT Ocelot Documentation</h2></a><a href="/inspectit-ocelot/versions"><h3>next</h3></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class=""><a href="https://inspectit.rocks/" target="_self">inspectIT Ocelot Website</a></li><li class=""><a href="https://github.com/inspectIT/inspectit-ocelot" target="_self">GitHub Repository</a></li><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search" title="Search"/></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><div class="hamburger-menu"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div></div><h2><i>›</i><span>Metrics</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Getting Started<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/inspectit-ocelot/docs/next/doc1">Hello World</a></li><li class="navListItem"><a class="navItem" href="/inspectit-ocelot/docs/next/getting-started/quick-start">Quick Start</a></li><li class="navListItem"><a class="navItem" href="/inspectit-ocelot/docs/next/getting-started/docker-examples">Demo Application</a></li><li class="navListItem"><a class="navItem" href="/inspectit-ocelot/docs/next/getting-started/installation">Installation</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Configuration<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/inspectit-ocelot/docs/next/configuration/configuration-sources">Configuration Sources</a></li><li class="navListItem"><a class="navItem" href="/inspectit-ocelot/docs/next/configuration/external-configuration-sources">External Configuration Sources</a></li><li class="navListItem"><a class="navItem" href="/inspectit-ocelot/docs/next/configuration/logging-configuration">Logging Configuration</a></li><li class="navListItem"><a class="navItem" href="/inspectit-ocelot/docs/next/configuration/open-census-configuration">OpenCensus Configuration</a></li><li class="navListItem"><a class="navItem" href="/inspectit-ocelot/docs/next/configuration/plugin-configuration">Plugin Configuration</a></li><li class="navListItem"><a class="navItem" href="/inspectit-ocelot/docs/next/configuration/agent-command-configuration">Agent Command Configuration</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Metrics<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/inspectit-ocelot/docs/next/metrics/metrics">Metrics</a></li><li class="navListItem navListItemActive"><a class="navItem" href="/inspectit-ocelot/docs/next/metrics/metric-recorders">Metrics Recorders</a></li><li class="navListItem"><a class="navItem" href="/inspectit-ocelot/docs/next/metrics/metric-exporters">Metrics Exporters</a></li><li class="navListItem"><a class="navItem" href="/inspectit-ocelot/docs/next/metrics/common-tags">Common Tags</a></li><li class="navListItem"><a class="navItem" href="/inspectit-ocelot/docs/next/metrics/custom-metrics">Custom Metrics</a></li><li class="navListItem"><a class="navItem" href="/inspectit-ocelot/docs/next/metrics/self-monitoring">Self-Monitoring</a></li><li class="navListItem"><a class="navItem" href="/inspectit-ocelot/docs/next/metrics/tag-guard">Tag-Guard</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Tracing<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/inspectit-ocelot/docs/next/tracing/tracing">Tracing</a></li><li class="navListItem"><a class="navItem" href="/inspectit-ocelot/docs/next/tracing/trace-exporters">Trace Exporters</a></li><li class="navListItem"><a class="navItem" href="/inspectit-ocelot/docs/next/tracing/log-correlation">Log Correlation</a></li><li class="navListItem"><a class="navItem" href="/inspectit-ocelot/docs/next/tracing/privacy">Data Privacy</a></li><li class="navListItem"><a class="navItem" href="/inspectit-ocelot/docs/next/tracing/tracing-self-monitoring">Self-Monitoring</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Tags<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/inspectit-ocelot/docs/next/tags/tags-exporters">Tags Exporters</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Instrumentation<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/inspectit-ocelot/docs/next/instrumentation/instrumentation">Instrumentation</a></li><li class="navListItem"><a class="navItem" href="/inspectit-ocelot/docs/next/instrumentation/scopes">Scopes</a></li><li class="navListItem"><a class="navItem" href="/inspectit-ocelot/docs/next/instrumentation/rules">Rules &amp; Actions</a></li><li class="navListItem"><a class="navItem" href="/inspectit-ocelot/docs/next/instrumentation/code-style">Configuration Code Style</a></li><li class="navListItem"><a class="navItem" href="/inspectit-ocelot/docs/next/instrumentation/special-sensors">Special Sensors</a></li><li class="navListItem"><a class="navItem" href="/inspectit-ocelot/docs/next/instrumentation/process">Instrumentation Process</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">End User Monitoring<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/inspectit-ocelot/docs/next/enduser-monitoring/enduser-monitoring-server">Overview</a></li><li class="navListItem"><a class="navItem" href="/inspectit-ocelot/docs/next/enduser-monitoring/eum-server-setup">Server Setup</a></li><li class="navListItem"><a class="navItem" href="/inspectit-ocelot/docs/next/enduser-monitoring/eum-server-configuration">Server, Metrics and Exporter Configuration</a></li><li class="navListItem"><a class="navItem" href="/inspectit-ocelot/docs/next/enduser-monitoring/install-eum-agent">Install EUM Agent</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Configuration Server<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/inspectit-ocelot/docs/next/config-server/overview">Overview</a></li><li class="navListItem"><a class="navItem" href="/inspectit-ocelot/docs/next/config-server/cs-configuration">Server Configuration</a></li><li class="navListItem"><a class="navItem" href="/inspectit-ocelot/docs/next/config-server/managing-files">Managing Files</a></li><li class="navListItem"><a class="navItem" href="/inspectit-ocelot/docs/next/config-server/files-staging">File Staging</a></li><li class="navListItem"><a class="navItem" href="/inspectit-ocelot/docs/next/config-server/agent-mappings">Agent Mappings</a></li><li class="navListItem"><a class="navItem" href="/inspectit-ocelot/docs/next/config-server/scope-wizard">Scope Wizard</a></li><li class="navListItem"><a class="navItem" href="/inspectit-ocelot/docs/next/config-server/class-browser">Class Browser</a></li><li class="navListItem"><a class="navItem" href="/inspectit-ocelot/docs/next/config-server/user-authentication">User Authentication</a></li><li class="navListItem"><a class="navItem" href="/inspectit-ocelot/docs/next/config-server/config-docs">Configuration Docs</a></li><li class="navListItem"><a class="navItem" href="/inspectit-ocelot/docs/next/config-server/log-config">Server Logging Configuration</a></li><li class="navListItem"><a class="navItem" href="/inspectit-ocelot/docs/next/config-server/syntax-highlighting">YAML Editor Syntax Highlighting</a></li><li class="navListItem"><a class="navItem" href="/inspectit-ocelot/docs/next/config-server/status-table-view">Agent Status Table View</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Breaking Changes<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/inspectit-ocelot/docs/next/breaking-changes/Breaking Changes">Breaking Changes</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              var headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                var el = event.target;
                while(el !== headings){
                  if (el.tagName === 'A') {
                    document.body.classList.remove('tocActive');
                    break;
                  } else{
                    el = el.parentNode;
                  }
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="https://github.com/inspectIT/inspectit-ocelot/edit/master/inspectit-ocelot-documentation/docs/metrics/metric-recorders.md" target="_blank" rel="noreferrer noopener">Edit</a><h1 id="__docusaurus" class="postHeaderTitle">Metrics Recorders</h1></header><article><div><span><p>Metrics recorders are responsible for capturing system metrics, such as processor or memory usage. All metrics recorders provided by inspectIT Ocelot publish the recorded data through the OpenCensus API.
Therefore all recorded metrics can be exported via any of the <a href="metrics/metric-exporters">supported metrics exporters</a>.
Currently the inspectIT Ocelot agent is capable of recording the following metrics:</p>
<ul>
<li><a href="#cpu-metrics">CPU</a> (usage and number of cores)</li>
<li><a href="#disk-space-metrics">Disk Space</a> (used and total)</li>
<li><a href="#memory-metrics">Memory</a> (used and available for various regions)</li>
<li><a href="#thread-metrics">Threads</a> (counts and states)</li>
<li><a href="#garbage-collection-metrics">Garbage Collection</a> (Pause times and collection statistics)</li>
<li><a href="#class-loading-metrics">Class Loading</a> (loaded and unloaded counts)</li>
<li><a href="#jmx-metrics">JMX</a> (all exposed JMX targets)</li>
</ul>

    <div class="admonition admonition-note">
      <div class="admonition-heading">
        <h5><div class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"/></svg></div> note</h5>
      </div>
      <div class="admonition-content">
    <p>The metrics above and their capturing logic are based on the open-source <a href="https://micrometer.io/">micrometer</a> project.</p>
</div></div><p>In the following sections we provide detailed information on the collected metrics and how they can be configured.
In general metrics are grouped together based on the recorder which provides them.</p>
<p>Many recorders poll the system APIs for extracting the metrics. The rate at which this polling occurs can be configured.
By default all polling based recorders use the duration specified by <code>inspectit.metrics.frequency</code>. The default value
of this property is <code>15s</code>. Overwriting <code>inspectit.metrics.frequency</code> will cause all recorders to use the given
frequency in case they do not have an explicit frequency in their own configuration.</p>

    <div class="admonition admonition-tip">
      <div class="admonition-heading">
        <h5><div class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"/></svg></div>  Default metrics settings</h5>
      </div>
      <div class="admonition-content">
    <p>By default, all metrics are captured if they are available on the system. If you do not want certain metrics to be recorded, you need to disable them manually. For example, if you want to disable the <code>system.average</code> metric of the <code>processor</code> recorder, you need to use the following configuration:</p>
<pre><code class="hljs css language-YAML"><span class="hljs-attr">inspectit:</span>
  <span class="hljs-attr">metrics:</span>
    <span class="hljs-attr">processor:</span>
      <span class="hljs-attr">enabled:</span>
        <span class="hljs-attr">system.average:</span> <span class="hljs-literal">false</span>
</code></pre>
</div></div><h2><a class="anchor" aria-hidden="true" id="cpu-metrics"></a><a href="#cpu-metrics" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>CPU Metrics</h2>
<p>Processor metrics are recorded by the <code>inspectit.metrics.processor</code> recorder.
This recorder polls the captured data from the system with a frequency specified by <code>inspectit.metrics.processor.frequency</code> which defaults to <code>inspectit.metrics.frequency</code>.
The available metrics are explained in the table below.</p>
<table>
<thead>
<tr><th>Metric</th><th>Description</th><th>Unit</th><th>OpenCensus Metric Name</th></tr>
</thead>
<tbody>
<tr><td><code>count</code></td><td>The number of processor cores available to the JVM</td><td>cores</td><td><code>system/cpu/count</code></td></tr>
<tr><td><code>system.average</code></td><td>The sum of the number of runnable entities queued to the available processors and the number of runnable entities running on the available processors averaged over a minute for the whole system. See the definition of <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/management/OperatingSystemMXBean.html#getSystemLoadAverage()">getSystemAverageLoad()</a> for more details.</td><td>percentage</td><td><code>system/load/average/1m</code></td></tr>
<tr><td><code>system.usage</code></td><td>The recent CPU usage for the whole system</td><td>percentage</td><td><code>system/cpu/usage</code></td></tr>
<tr><td><code>process.usage</code></td><td>The recent CPU usage for the JVM's process</td><td>percentage</td><td><code>process/cpu/usage</code></td></tr>
</tbody>
</table>

    <div class="admonition admonition-note">
      <div class="admonition-heading">
        <h5><div class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"/></svg></div> note</h5>
      </div>
      <div class="admonition-content">
    <p>The availability of each processor metric depends on the capabilities of your JVM in combination with your OS. If a metric is not available, the inspectit Ocelot agent will print a corresponding info in its logs on startup.</p>
</div></div><h2><a class="anchor" aria-hidden="true" id="disk-space-metrics"></a><a href="#disk-space-metrics" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Disk Space Metrics</h2>
<p>Disk space metrics are recorded by the <code>inspectit.metrics.disk</code> recorder.
This recorder polls the captured data from the system with a frequency specified by <code>inspectit.metrics.disk.frequency</code> which defaults to <code>inspectit.metrics.frequency</code>.
The available metrics are explained in the table below.</p>
<table>
<thead>
<tr><th>Metric</th><th>Description</th><th>Unit</th><th>OpenCensus Metric Name</th></tr>
</thead>
<tbody>
<tr><td><code>free</code></td><td>The free disk space</td><td>bytes</td><td><code>disk/free</code></td></tr>
<tr><td><code>total</code></td><td>The total size of the disk</td><td>bytes</td><td><code>disk/total</code></td></tr>
</tbody>
</table>
<h2><a class="anchor" aria-hidden="true" id="memory-metrics"></a><a href="#memory-metrics" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Memory Metrics</h2>
<p>All memory related metrics are recorded by the <code>inspectit.metrics.memory</code> recorder.
This recorder polls the captured data from the system with a frequency specified by <code>inspectit.metrics.memory.frequency</code> which defaults to <code>inspectit.metrics.frequency</code>.</p>
<p>The first set of available metrics are general JVM memory metrics:</p>
<table>
<thead>
<tr><th>Metric</th><th>Description</th><th>Unit</th><th>OpenCensus Metric Name</th></tr>
</thead>
<tbody>
<tr><td><code>used</code></td><td>The amount of used memory</td><td>bytes</td><td><code>jvm/memory/used</code></td></tr>
<tr><td><code>committed</code></td><td>The amount of memory that is committed for the Java virtual machine to use</td><td>bytes</td><td><code>jvm/memory/committed</code></td></tr>
<tr><td><code>max</code></td><td>The maximum amount of memory in bytes that can be used for memory management</td><td>bytes</td><td><code>jvm/memory/max</code></td></tr>
</tbody>
</table>
<p>For all these metrics inspectIT adds two tags in addition to the <a href="/inspectit-ocelot/docs/next/metrics/common-tags">common tags</a>: Firstly <code>area</code> which either is <code>heap</code> or <code>non-heap</code>.
Secondly an <code>id</code> tag is added specifying the exact memory region, for example <code>PS Old Gen</code> depending on the used garbage collector.</p>
<p>Most JVMs also provide metrics regarding the usage of <a href="https://docs.oracle.com/javase/8/docs/api/java/nio/ByteBuffer.html">buffer</a> pools, which are reflected in the following metrics provided by inspectIT Ocelot:</p>
<table>
<thead>
<tr><th>Metric</th><th>Description</th><th>Unit</th><th>OpenCensus Metric Name</th></tr>
</thead>
<tbody>
<tr><td><code>buffer.count</code></td><td>An estimate of the number of buffers for each buffer pool</td><td>buffers</td><td><code>jvm/buffer/count</code></td></tr>
<tr><td><code>buffer.used</code></td><td>An estimate of the memory that the JVM is currently using for each buffer pool</td><td>bytes</td><td><code>jvm/buffer/memory/used</code></td></tr>
<tr><td><code>buffer.capacity</code></td><td>An estimate of the total capacity of the buffers in each pool</td><td>bytes</td><td><code>jvm/buffer/total/capacity</code></td></tr>
</tbody>
</table>
<p>Again for each metric an <code>id</code> tag is added. This tag hereby contains the name of the buffer pool for which the metrics was captured.</p>
<h2><a class="anchor" aria-hidden="true" id="thread-metrics"></a><a href="#thread-metrics" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Thread Metrics</h2>
<p>Thread metrics provide statistics about the number and the state of all JVM threads.
They are recorded by the <code>inspectit.metrics.threads</code> recorder.
This recorder polls the captured data from the JVM with a frequency specified by <code>inspectit.metrics.threads.frequency</code> which defaults to <code>inspectit.metrics.frequency</code>.
The available thread metrics are explained in the table below.</p>
<table>
<thead>
<tr><th>Metric</th><th>Description</th><th>Unit</th><th>OpenCensus Metric Name</th></tr>
</thead>
<tbody>
<tr><td><code>peak</code></td><td>The peak number of live threads since the start of the JVM</td><td>threads</td><td><code>jvm/threads/peak</code></td></tr>
<tr><td><code>live</code></td><td>The total number of currently live threads including both daemon and non-daemon threads</td><td>threads</td><td><code>jvm/threads/live</code></td></tr>
<tr><td><code>daemon</code></td><td>The total number of currently live daemon threads</td><td>threads</td><td><code>jvm/threads/daemon</code></td></tr>
<tr><td><code>states</code></td><td>The total number of currently live threads for each state</td><td>threads</td><td><code>jvm/threads/states</code></td></tr>
</tbody>
</table>
<p>The <code>states</code> metric provides the amount of threads grouped by their state.
For this purpose, an additional tag <code>state</code> is added whose values correspond to the Java <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Thread.State.html">Thread.State enum</a>.</p>
<h2><a class="anchor" aria-hidden="true" id="garbage-collection-metrics"></a><a href="#garbage-collection-metrics" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Garbage Collection Metrics</h2>
<p>The <code>inspectit.metrics.gc</code> recorder provides metrics about the time spent for garbage collection as well as about the collection effectiveness.
This recorder is not polling based. Instead, it listens to garbage collection events published by the JVM and records metrics on occurrence.</p>

    <div class="admonition admonition-note">
      <div class="admonition-heading">
        <h5><div class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"/></svg></div> note</h5>
      </div>
      <div class="admonition-content">
    <p>The availability of all garbage collection metrics depends on the capabilities of your JVM. If the garbage collection metrics are unavailable, the inspectit Ocelot agent will print a corresponding info in its logs on startup.</p>
</div></div><p>The recorder offers the following timing related metrics:</p>
<table>
<thead>
<tr><th>Metric</th><th>Description</th><th>Unit</th><th>OpenCensus Metric Name</th></tr>
</thead>
<tbody>
<tr><td><code>pause</code></td><td>The total time spent for Garbage Collection Pauses</td><td>milliseconds</td><td><code>jvm/gc/pause</code></td></tr>
<tr><td><code>concurrent.phase.time</code></td><td>The total time spent in concurrent phases of the Garbage Collector</td><td>milliseconds</td><td><code>jvm/gc/concurrent/phase/time</code></td></tr>
</tbody>
</table>
<p>Whether <code>pause</code> or <code>concurrent.phase.time</code> are captured depends on the concurrency of the garbage collector with which the JVM was started.
For both metrics an <code>action</code> and a <code>cause</code> tag is added. The <code>action</code> specifies what was was done, e.g. a minor or a major collection.
The <code>cause</code> tag provides information on the circumstances which triggered the collection.</p>
<p>The following additional garbage collection metrics are also available:</p>
<table>
<thead>
<tr><th>Metric</th><th>Description</th><th>Unit</th><th>OpenCensus Metric Name</th></tr>
</thead>
<tbody>
<tr><td><code>live.data.size</code></td><td>The size of the old generation memory pool captured directly after a full GC.</td><td>bytes</td><td><code>jvm/gc/live/data/size</code></td></tr>
<tr><td><code>max.data.size</code></td><td>The maximum allowed size of the old generation memory pool captured directly after a full GC.</td><td>bytes</td><td><code>jvm/gc/max/data/size</code></td></tr>
<tr><td><code>memory.allocated</code></td><td>Increase in the size of the young generation memory pool after one GC to before the next</td><td>bytes</td><td><code>jvm/gc/memory/allocation</code></td></tr>
<tr><td><code>memory.promoted</code></td><td>Increase in the size of the old generation memory pool from before a GC to after the GC</td><td>bytes</td><td><code>jvm/gc/memory/allocation</code></td></tr>
</tbody>
</table>
<h2><a class="anchor" aria-hidden="true" id="class-loading-metrics"></a><a href="#class-loading-metrics" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Class Loading Metrics</h2>
<p>Class loading metrics are recorded by the <code>inspectit.metrics.classloader</code> recorder.
This recorder polls the captured data from the system with a frequency specified by <code>inspectit.metrics.classloader.frequency</code> which defaults to <code>inspectit.metrics.frequency</code>.
The available metrics are explained in the table below.</p>
<table>
<thead>
<tr><th>Metric</th><th>Description</th><th>Unit</th><th>OpenCensus Metric Name</th></tr>
</thead>
<tbody>
<tr><td><code>loaded</code></td><td>The total number of currently loaded classes in the JVM</td><td>classes</td><td><code>jvm/classes/loaded</code></td></tr>
<tr><td><code>unloaded</code></td><td>The total number of unloaded classes since the start of the JVM</td><td>classes</td><td><code>jvm/classes/unloaded</code></td></tr>
</tbody>
</table>
<h2><a class="anchor" aria-hidden="true" id="jmx-metrics"></a><a href="#jmx-metrics" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>JMX Metrics</h2>
<p>Metrics exposed by MBean objects are recorded by the <code>inspectit.metrics.jmx</code> recorder which can be enabled by setting the <code>inspectit.metrics.jmx.enabled</code> property to <code>true</code>.</p>
<p>This recorder polls all registered MBean servers with a frequency specified by <code>inspectit.metrics.jmx.frequency</code> which defaults to <code>inspectit.metrics.frequency</code>.
The recorder exposes JMX attributes containing values that are non-negative numbers or booleans.
All values are exposed as double metric representing the last value of the JMX MBean.
Booleans are converted to <code>0.0</code> or <code>1.0</code> and non-double numbers to double representations.</p>
<p>Format of the metric name that's being exposed follows the pattern:</p>
<pre><code class="hljs css language-text">jvm/jmx/domain/bean_property_1_value/attrbute_key_1/../attribute_key_N/attribute_name
</code></pre>
<p><strong>Example Metric Name</strong>: <code>jvm/jmx/java/lang/runtime/uptime</code></p>
<p>The exposed metrics also contain additional bean properties as labels.
All values that are used in constructing the metric's name are lowercase by default, but this can be adapted in the settings.</p>
<p>By default, the JMX metrics recorder will force the creation of the default platform MBean server when enabled.
You can change this behavior by setting the value of the property <code>inspectit.metrics.jmx.force-platform-server</code> to <code>false</code>.</p>
<p>You can precisely control which MBean should be scraped and exposed as metrics using the <code>inspectit.metrics.jmx.object-names</code> property.
This property defines a map of object names to be whitelisted or blacklisted.
In this map the key represents an object name pattern, while the value is a boolean representing whether a MBean is white- (<code>true</code>) or blacklisted (<code>false</code>).
The behavior is as follows:</p>
<ol>
<li>If the map is empty everything is collected.</li>
<li>If the map contains only whitelisted object name entries, only these are collected.</li>
<li>If the map contains only blacklisted object name entries, then everything is collected except the blacklisted ones.</li>
<li>If the map contains both the whitelisted and blacklisted entries, then only the whitelisted ones that are not blacklisted are collected.</li>
</ol>
<p>All configuration properties related to the JMX recorder are located under the <code>inspectit.metrics.jmx</code> property.
The available JMX configuration properties are:</p>
<!--- spaces to force a wider property column to prevent a lot of line breaks in the long property names -->
<table>
<thead>
<tr><th>Property                    </th><th>Description</th><th>Default</th></tr>
</thead>
<tbody>
<tr><td><code>enabled</code></td><td>The switch for enabling/disabling JMX recorder.</td><td><code>false</code></td></tr>
<tr><td><code>frequency</code></td><td>Specifies the frequency used by the JMX recorder to poll and record metrics.</td><td><code>${inspectit.metrics.frequency}</code></td></tr>
<tr><td><code>force-platform-server</code></td><td>The switch to enable or disable the creation of the platform MBean server before scraping starts.</td><td><code>true</code></td></tr>
<tr><td><code>lower-case-metric-name</code></td><td>If <code>true</code> records JMX metrics with the lowercase name format.</td><td><code>true</code></td></tr>
<tr><td><code>object-names</code></td><td>Map for whitelisting and blacklisting object names to be scraped. The key should be an object name pattern and value should be <code>true</code> (whitelisting) or <code>false</code> (blacklisting). More info about the object name patterns can be found in <a href="https://docs.oracle.com/javase/7/docs/api/javax/management/ObjectName.html">Java SE API docs</a>.</td><td>see above</td></tr>
</tbody>
</table>
</span></div></article></div><div class="docLastUpdate"><em>Last updated on 2/28/2024 by NTTechnicalUser</em></div><div class="docs-prevnext"><a class="docs-prev button" href="/inspectit-ocelot/docs/next/metrics/metrics"><span class="arrow-prev">← </span><span>Metrics</span></a><a class="docs-next button" href="/inspectit-ocelot/docs/next/metrics/metric-exporters"><span>Metrics Exporters</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#cpu-metrics">CPU Metrics</a></li><li><a href="#disk-space-metrics">Disk Space Metrics</a></li><li><a href="#memory-metrics">Memory Metrics</a></li><li><a href="#thread-metrics">Thread Metrics</a></li><li><a href="#garbage-collection-metrics">Garbage Collection Metrics</a></li><li><a href="#class-loading-metrics">Class Loading Metrics</a></li><li><a href="#jmx-metrics">JMX Metrics</a></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="copyright">Copyright © 2024 Novatec Consulting GmbH</section></footer></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
                document.addEventListener('keyup', function(e) {
                  if (e.target !== document.body) {
                    return;
                  }
                  // keyCode for '/' (slash)
                  if (e.keyCode === 191) {
                    const search = document.getElementById('search_input_react');
                    search && search.focus();
                  }
                });
              </script><script>
              var search = docsearch({
                appId: 'P7JV0ZK66K',
                apiKey: 'd499024131bf8d92e6d469a6c14f4798',
                indexName: 'inspectit-ocelot',
                inputSelector: '#search_input_react',
                algoliaOptions: {"facetFilters":["version:next"]}
              });
            </script></body></html>